# 项目管理小助手项目结构

## 项目概述
项目管理小助手是一个基于Vue 3和Spring Boot的全栈应用，主要用于帮助项目管理者管理项目进度、生成文档和处理文本数据。

## 目录结构

```
union-project/
├── project-assistant-ui/          # 前端Vue 3项目
│   ├── electron/                  # Electron相关配置
│   │   ├── main/                  # 主进程代码
│   │   └── preload/               # 预加载脚本
│   ├── src/                       # Vue源代码
│   │   ├── assets/                # 静态资源
│   │   ├── components/            # 组件
│   │   ├── router/                # 路由
│   │   ├── store/                 # 状态管理
│   │   ├── App.vue                # 主组件
│   │   └── main.ts                # 入口文件
│   ├── public/                    # 公共资源
│   ├── index.html                 # HTML模板
│   ├── package.json               # 依赖配置
│   ├── tsconfig.json              # TypeScript配置
│   └── vite.config.ts             # Vite配置
│
├── project-assistant-service/     # 后端Spring Boot项目
│   └── src/
│       ├── main/
│       │   ├── java/com/timelordtty/projectassistant/
│       │   │   ├── controller/    # 控制器
│       │   │   ├── service/       # 服务层
│       │   │   ├── repository/    # 数据访问层
│       │   │   ├── model/         # 数据模型
│       │   │   ├── config/        # 配置类
│       │   │   └── util/          # 工具类
│       │   └── resources/
│       │       ├── application.yml # 应用配置
│       │       ├── static/        # 静态资源
│       │       └── templates/     # 模板文件
│       └── test/                  # 测试代码
│
├── 文档生成要求                    # 文档生成功能需求说明
├── 基础框架要求                    # 技术框架需求说明
└── README.md                      # 项目说明
```

## 技术栈

### 前端
- Vue 3 + TypeScript
- Vite 构建工具
- Electron 桌面应用框架
- Pinia 状态管理
- Vue Router 路由管理
- Element Plus UI组件库

### 后端
- Spring Boot 2.7+
- Spring Data JPA
- MySQL数据库
- MyBatis持久层框架
- Spring Security (可选)
- Apache POI (文档处理)

## 主要功能模块

1. 项目管理
   - 项目基本信息管理
   - 项目进度跟踪
   - 项目日期管理

2. 日历视图
   - 显示项目关键日期
   - 节假日标记
   - 日程安排

3. 金额转换工具
   - 数字金额转中文大写
   - 中文金额转数字

4. 文档生成器
   - 基于模板生成文档
   - 字段替换和规则管理
   - 支持Word文件生成

5. 文本处理工具
   - 文本编辑和处理
   - 规则替换
   - 批量处理

## 快速开始

### 前端开发
```bash
cd project-assistant-ui
npm install
npm run dev
```

### 后端开发
```bash
cd project-assistant-service
./mvnw spring-boot:run
```

### 构建完整应用
```bash
# 前端构建
cd project-assistant-ui
npm run build

# 后端构建
cd project-assistant-service
./mvnw clean package
```

## 后端服务(project-assistant-service)

后端主要提供以下功能：
1. 项目管理API：提供项目的增删改查
2. 日历数据API：提供日期计算和查询功能
3. 文本替换API：自定义替换规则管理
4. 金额转换API：数字金额与中文大写互转
5. 文档生成API：Word/Excel模板填充

后端技术栈：
- Java 17
- Spring Boot 3.x
- MyBatis
- H2嵌入式数据库
- Apache POI (Office文档处理)

## 前端应用(project-assistant-ui)

前端为Electron桌面应用，主要包含以下模块：
1. 项目日历：提供月/周/日视图
2. 项目管理：添加、编辑、删除项目
3. 文本替换：自定义文本替换规则
4. 金额转换：数字与中文金额互转
5. 文档生成：模板填充与导出

前端技术栈：
- Vue 3 + TypeScript
- Element Plus UI库
- Pinia状态管理
- Vue Router路由管理
- Electron桌面应用框架
- Sass/SCSS样式预处理

## 构建与部署

使用`build-all.bat`脚本可以一键构建和部署应用，主要步骤包括：
1. 编译后端服务为JAR文件
2. 编译前端应用为Electron桌面应用
3. 准备JRE环境和依赖库
4. 创建最终部署包`project-assistant`

最终产物是一个完全独立的应用目录，用户只需双击`启动小助手.bat`即可运行应用，无需安装任何依赖环境。

### 构建优化

构建脚本包含多种优化和容错机制：
1. 配置npm使用国内镜像源加速下载
2. 使用多种安装策略，确保前端依赖安装成功
3. Electron构建失败时，自动创建备用启动脚本
4. 支持离线构建，减少网络依赖
5. 优化打包配置，提高构建速度

### 启动方式

应用支持两种启动方式：
1. **标准启动**：通过Electron应用提供完整界面体验
2. **备用启动**：当Electron构建失败时，使用`ProjectAssistant.bat`通过浏览器访问应用

## 应用签名与图标

- `icon.ico`：应用图标，用于Electron应用和任务栏显示
- `myecrt.pfx`：数字证书，用于Electron应用签名

## 彩蛋特性

应用内包含多处彩蛋:
1. 文本替换规则中预置了"我很你"→"我爱你"等特殊替换
2. 金额转换模块对"520"、"1314"等数值会有特别显示
3. 界面中隐藏了多处爱心图标和特殊提示

## 数据备份

所有数据存储在`data/projectCalendar.mv.db`文件中，用户可以通过备份此文件保存所有数据。升级应用时，只需将旧的数据文件复制到新版本的相应位置即可。 